!function(){"use strict";function n(t,n){var o=this;o.xhr=new XMLHttpRequest,o.xhr.open("GET",t,!0),o.xhr.send(),o.xhr.onreadystatechange=function(){if(o.xhr.readyState===XMLHttpRequest.DONE){n.innerHTML=o.xhr.responseText;var e=document.createComment(t+" file added");n.appendChild(e)}}}!function e(){document.querySelectorAll("div[data-load]").forEach(function(e,t){e.hasAttribute("data-load")&&(new n(e.getAttribute("data-load"),e),e.removeAttribute("data-load"))}),console.log("im bootstrap");var t=setInterval(function(){0<document.querySelectorAll("div[data-load]").length?e():clearInterval(t)},500)}()}();var evtService=function(){var n=this;n.isResizable=!0,n.isSelectable=!0;var o=function(o,s){var a=document.getElementById("wdhDragger"),i=document.getElementById("hgtDragger");function r(e){if(e.stopPropagation(),1===e.buttons){var t=e.movementX;a.style.left=parseFloat(a.style.left)+t+"px",o.style.width=parseFloat(o.style.width)+t+"px";var n=e.movementY;i.style.top=parseFloat(i.style.top)+n+"px",o.style.height=parseFloat(o.style.height)+n+"px"}0===e.buttons&&(document.removeEventListener("mousemove",r),s("Document Re-sized - "+o.style.width+" x "+o.style.height))}function t(){document.addEventListener("mousemove",r)}a.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&t()}),i.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&t()})};return n.fetchData=function(e,t){var n=this;n.xhr=new XMLHttpRequest,n.xhr.open("GET",e,!0),n.xhr.send(),n.xhr.onreadystatechange=function(){n.xhr.readyState===XMLHttpRequest.DONE&&t(n.xhr.responseText)}},n.drawRect=function(e,t){var a={X:0,Y:0,active:!1},i=document.getElementById("drawAreaSelection"),r=parseFloat(e.offsetLeft)-3,c=parseFloat(e.offsetTop)-3;e.addEventListener("mousedown",function(e){e.stopPropagation(),a.X=parseFloat(e.offsetX)+r,a.Y=parseFloat(e.offsetY)+c,a.active=!0,i.style.top=a.Y+"px",i.style.left=a.X+"px",i.style.display="block",console.log(i)}),e.addEventListener("mousemove",function(e){if(!0===a.active&&1===e.buttons){var t=parseFloat(e.offsetX)+r,n=parseFloat(e.offsetY)+c,o=l(a.X,t),s=l(a.Y,n);a.X>t&&(i.style.left=t+"px"),a.Y>n&&(i.style.top=n+"px"),i.style.width=o+"px",i.style.height=s+"px"}}),document.addEventListener("mouseup",function(e){!0===a.active&&(i.style.width=i.style.height="0px",i.style.top=i.style.left="0px",a.X=a.Y=0,i.style.display="none",a.active=!1,t("Area Selected"))});var l=function(e,t){return t<e?e-t:t-e}},{windowResizer:function(e,t){o(e,t)},windowSelector:function(e,t){n.drawRect(e,t)},fetchData:function(e,t){fetchData(e,t)}}}(),utilityService=function(){var o=this;o.domList=[];var s=function(e){setTimeout(function(){e.innerHTML=""},2e3)};return o.registerDOM=function(e,t){o.domList.push({dom:e,type:t})},{showStatus:function(e){var n;n=e,o.domList.forEach(function(e,t){e.dom.innerHTML=n,s(e.dom)})},registerDOM:function(e,t){o.registerDOM(e,t)},toggle:function(e,t){var n,o;o=t,(n=e).addEventListener("click",function(){var e=document.querySelector(o);n.classList.toggle("expand"),n.classList.toggle("collapse"),e&&(e.classList.toggle("hide"),e.parentNode.classList.toggle("active"))})},show:function(e){var t;(t=e).classList.remove("hide"),t.classList.add("show")},hide:function(e){var t;(t=e).classList.remove("show"),t.classList.add("hide")}}},authEvent=function(e){var t,a=utilityService(),n=function(){(t=this).events=[]};return n.prototype.registerEvent=function(e){e.active=!1,t.events.push(e),console.log(t)},n.prototype.activateEvent=function(n){var o=!1,s=!0;return t.events.forEach(function(e,t){if(n.event!==e.event&&!0===e.active)return s=!(o=!0),a.showStatus(e.errMsg),!1}),!1===o&&t.events.forEach(function(e,t){if(n.event===e.event&&!1===n.active)return o=!0,e.active=!0}),s},n.prototype.deactivateEvent=function(n,e){console.log(n),e||e(),t.events.forEach(function(e,t){n.event===e.event&&(e.active=!1)})},n}();!function(n,e){"use strict";var o,s,a,i={width:.85,height:.87},t=utilityService();function r(e){t.showStatus(e)}a=setInterval(function(){var e,t;o=document.getElementById("mainArea"),(s=document.getElementById("drawArea"))&&(clearInterval(a),e=window.screen.availWidth,t=window.screen.availHeight,s.style.width=o.style.width=e*i.width+"px",s.style.height=o.style.height=t*i.height+"px",n.windowResizer(s,r))},1e3)}(evtService);var drawShapes=function(o,e){"use strict";var r,c={},s=0,l=utilityService();o=o;return c.selectedObj=null,c.currentShape=null,c.drawShape=function(e,t){var n=document.createElement("div");n.id=t+"-shape-"+s,n.classList.add(t),n.classList.add("shape"),s++,e.appendChild(n),c.currentShape=document.getElementById(n.id),o.fetchData("./data/shapes/"+t+".json",c.setStyle),c.selectable(c.currentShape),l.showStatus("Rectangle Created")},c.setStyle=function(e){if(e&&c.currentShape){var t=JSON.parse(e);if(t.styles)for(var n in t.styles){var o=t.styles[n];c.currentShape.style[n]=o}}},c.unsetObj=function(){c.selectedObj=null,l.hide(r)},c.selectable=function(i){r||(r=document.getElementById("eleSelector")),i.addEventListener("mousedown",function(e){e.stopPropagation()}),i.addEventListener("mouseup",function(e){e.stopPropagation()}),i.addEventListener("click",function(e){e.stopPropagation();var t=i.getBoundingClientRect(),n=parseFloat(t.width)+20+"px",o=parseFloat(t.height)+20+"px",s=parseFloat(i.offsetLeft)-12+"px",a=parseFloat(i.offsetTop)-12+"px";r.style.width=n,r.style.height=o,r.style.left=s,r.style.top=a,c.selectedObj=i,l.show(r),l.showStatus("Object Selected")})},{drawShape:function(e,t){c.drawShape(e,t)},selectedObj:function(){return c.selectedObj},unsetObj:function(){c.unsetObj()},setStyle:function(e){c.setStyle(e)}}}(evtService);!function(e,t){"use strict";var i,n,r=!1,c=drawShapes,o=utilityService();function l(){r=!1,document.removeEventListener("mousemove",s),o.showStatus("Object Moved"),c.unsetObj()}function s(e){if(0===e.buttons&&l(),!0===r){i.offsetLeft,i.offsetTop;var t=e.movementX,n=e.movementY;i.style.left=parseFloat(i.style.left)+t+"px",i.style.top=parseFloat(i.style.top)+n+"px";var o=c.selectedObj();if(o){var s=o.style.left?o.style.left:o.offsetLeft,a=o.style.top?o.style.top:o.offsetTop;o.style.left=parseFloat(s)+t+"px",o.style.top=parseFloat(a)+n+"px"}}}n=setInterval(function(){(i=document.getElementById("eleSelector"))&&(clearInterval(n),i.addEventListener("mousedown",function(e){r=!0,document.addEventListener("mousemove",s)}),i.addEventListener("mouseup",function(e){l()}))},1e3)}(),function(e,n){"use strict";var o,t,s,a,i=drawShapes;n=new n;function r(e,t){!0===n.activateEvent(e)&&i.drawShape(o,t)}a=setInterval(function(){document.getElementById("drawArea")&&(o=document.getElementById("shapesWrapper"),clearInterval(a),t=document.querySelector('div[data-shape ="rect"]'),s=document.querySelector('div[data-shape ="circle"]'),t&&(n.registerEvent({event:"drawRect"}),t.addEventListener("click",function(){r({event:"drawRect"},"rect")})),s&&(n.registerEvent({event:"drawCircle"}),s.addEventListener("click",function(){r({event:"drawCircle"},"circle")})))},1e3)}(0,authEvent),function(e){"use strict";var t,n,o,s,a=!1,i=utilityService();function r(){n||(n=document.getElementById("tools")),n.classList.toggle("hide"),o.classList.toggle("active")}s=setInterval(function(){document.getElementById("wre-statusbar")&&!1===a&&(a=!0,t=document.querySelector(".status-text"),(o=document.getElementById("toggleSideBar")).addEventListener("click",r),clearInterval(s),i.registerDOM(t,"status"))},200)}(),function(e){"use strict";var t,n,o=utilityService();n=setInterval(function(){document.getElementById("stylesWindow")&&(clearInterval(n),!0,t=document.getElementById("toggleStyles"),o.toggle(t,"#stylesWindow"))},1e3)}(),function(e,t){"use strict";var n,o,s,a,i,r=utilityService(),c=new t,l={event:"zoom",errMsg:"Reset Zoom to 100%"};function d(e){if(c.activateEvent(l),n||(n=document.getElementById("drawArea")),s){var t=o.value+"%";s.innerHTML=t,n.style.zoom=t}100===parseInt(o.value)&&c.deactivateEvent(l,function(){})}i=setInterval(function(){document.getElementById("zoomWindow")&&(clearInterval(i),o=document.getElementById("zoomRange"),s=document.getElementById("zoomTxt"),o.addEventListener("input",d),a=document.getElementById("toggleZoom"),r.toggle(a,"#zoomWindow"),console.log("Registering Event Zoom Func"),c.registerEvent(l))},100)}(0,authEvent);