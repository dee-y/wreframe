!function(){"use strict";function n(e,t){var n=this;n.xhr=new XMLHttpRequest,n.xhr.open("GET",e,!0),n.xhr.send(),n.xhr.onreadystatechange=function(){n.xhr.readyState===XMLHttpRequest.DONE&&(t.innerHTML=n.xhr.responseText)}}document.querySelectorAll("div").forEach(function(e,t){e.hasAttribute("data-load")&&new n(e.getAttribute("data-load"),e)})}();var evtService=function(){var n=this;return n.isResizable=!0,n.isSelectable=!0,n.windowResizer=function(s,i){var o=document.createElement("div");o.id="wdhDragger",o.classList.add("ui-resizable-e"),o.classList.add("ui-resizable-handle");var a=document.createElement("div");a.id="hgtDragger",a.classList.add("ui-resizable-s"),a.classList.add("ui-resizable-handle"),s.appendChild(o),s.appendChild(a);var r=s.offsetLeft,l=s.offsetTop,d=o.offsetLeft+o.clientWidth,c=a.offsetTop+a.clientHeight,u=!1,f=!1;document.addEventListener("mousemove",function(e){if(e.stopPropagation(),1===e.buttons){if(!0===u){var t=e.clientX-r;o.style.left=s.style.width=t<=d?t+"px":d+"px"}if(!0===f){var n=e.clientY-l;a.style.top=s.style.height=n<=c?n+"px":c+"px"}}0===e.buttons&&(!0!==u&&!0!==f||(u=f=!1,i("Document Resized - "+s.style.width+" x "+s.style.height)))}),o.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&(u=!0)}),a.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&(f=!0)})},n.drawRect=function(e,t){var o={X:0,Y:0,active:!1},a=document.getElementById("drawAreaSelection"),r=parseFloat(e.offsetLeft)-3,l=parseFloat(e.offsetTop)-3;e.addEventListener("mousedown",function(e){e.stopPropagation(),o.X=parseFloat(e.offsetX)+r,o.Y=parseFloat(e.offsetY)+l,o.active=!0,a.style.top=o.Y+"px",a.style.left=o.X+"px",a.style.display="block"}),e.addEventListener("mousemove",function(e){if(!0===o.active&&1===e.buttons){var t=parseFloat(e.offsetX)+r,n=parseFloat(e.offsetY)+l,s=d(o.X,t),i=d(o.Y,n);o.X>t&&(a.style.left=t+"px"),o.Y>n&&(a.style.top=n+"px"),a.style.width=s+"px",a.style.height=i+"px"}}),document.addEventListener("mouseup",function(e){!0===o.active&&(a.style.width=a.style.height="0px",a.style.top=a.style.left="0px",o.X=o.Y=0,a.style.display="none",o.active=!1,t("Area Selected"))});var d=function(e,t){return t<e?e-t:t-e}},{windowResizer:function(e,t){n.windowResizer(e,t)},windowSelector:function(e,t){n.drawRect(e,t)}}}(),utilityService=function(){var s=this;s.domList=[];var i=function(e){setTimeout(function(){e.innerHTML=""},2e3)};return s.registerDOM=function(e,t){s.domList.push({dom:e,type:t})},{showStatus:function(e){var n;n=e,s.domList.forEach(function(e,t){e.dom.innerHTML=n,i(e.dom)})},registerDOM:function(e,t){s.registerDOM(e,t)},show:function(e){var t;(t=e).classList.remove("hide"),t.classList.add("show")},hide:function(e){var t;(t=e).classList.remove("show"),t.classList.add("hide")}}};!function(n,e){"use strict";var s,i,o,a=.85,t=utilityService();function r(e){t.showStatus(e)}o=setInterval(function(){var e,t;s=document.getElementById("mainArea"),(i=document.getElementById("drawArea"))&&(clearInterval(o),e=window.screen.availWidth,t=window.screen.availHeight,i.style.width=s.style.width=e*a+"px",i.style.height=s.style.height=t*a+"px",n.windowResizer(i,r),n.windowSelector(i,r))},1e3)}(evtService);var drawShapes=function(e){"use strict";var r,l={},s=0,d=utilityService();return l.selectedObj=null,l.drawRect=function(e){var t=document.createElement("div");t.id="rect-shape-"+s,t.classList.add("rect"),t.classList.add("shape"),s++,e.appendChild(t);var n=document.getElementById(t.id);l.selectable(n),d.showStatus("Rectangle Created")},l.unsetObj=function(){l.selectedObj=null,d.hide(r)},l.selectable=function(a){r||(r=document.getElementById("eleSelector")),a.addEventListener("mousedown",function(e){e.stopPropagation()}),a.addEventListener("mouseup",function(e){e.stopPropagation()}),a.addEventListener("click",function(e){e.stopPropagation();var t=a.getBoundingClientRect(),n=parseFloat(t.width)+20+"px",s=parseFloat(t.height)+20+"px",i=parseFloat(t.x)-12+"px",o=parseFloat(t.y)-12+"px";r.style.width=n,r.style.height=s,r.style.left=i,r.style.top=o,l.selectedObj=a,d.show(r)})},l.movable=function(){},{drawRect:function(e){l.drawRect(e)},selectedObj:function(){return l.selectedObj},unsetObj:function(){l.unsetObj()}}}();!function(e){"use strict";var a,t,r=!1,l=drawShapes;function d(){r=!1,document.removeEventListener("mousemove",n),l.unsetObj()}function n(e){if(0===e.buttons&&d(),!0===r){a.offsetLeft,a.offsetTop;var t=e.movementX,n=e.movementY;a.style.left=parseFloat(a.style.left)+t+"px",a.style.top=parseFloat(a.style.top)+n+"px";var s=l.selectedObj();if(s){var i=s.style.left?s.style.left:s.offsetLeft,o=s.style.top?s.style.top:s.offsetTop;s.style.left=parseFloat(i)+t+"px",s.style.top=parseFloat(o)+n+"px"}}}t=setInterval(function(){(a=document.getElementById("eleSelector"))&&(clearInterval(t),a.addEventListener("mousedown",function(e){r=!0,document.addEventListener("mousemove",n)}),a.addEventListener("mouseup",function(e){d()}))},1e3)}(),function(e){"use strict";var t,n,s,i=drawShapes;function o(){i.drawRect(t)}s=setInterval(function(){document.getElementById("drawArea")&&(t=document.getElementById("shapesWrapper"),clearInterval(s),!0,(n=document.querySelector('div[data-shape ="rect"]'))&&n.addEventListener("click",o))},1e3)}(),function(e){"use strict";var t,n,s=!1,i=utilityService();n=setInterval(function(){document.getElementById("wre-statusbar")&&!1===s&&(s=!0,t=document.querySelector(".status-text"),clearInterval(n),i.registerDOM(t,"status"))},200)}();