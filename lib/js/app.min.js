!function(){"use strict";function s(e,t){var n=this;n.xhr=new XMLHttpRequest,n.xhr.open("GET",e,!0),n.xhr.send(),n.xhr.onreadystatechange=function(){n.xhr.readyState===XMLHttpRequest.DONE&&(t.innerHTML=n.xhr.responseText)}}!function e(){var n;console.log("im bootstrap"),!0===(n=!1,document.querySelectorAll("div").forEach(function(e,t){e.hasAttribute("data-load")&&(n=!0,new s(e.getAttribute("data-load"),e),e.removeAttribute("data-load"))}),n)&&e()}()}();var evtService=function(){var n=this;return n.isResizable=!0,n.isSelectable=!0,n.windowResizer=function(s,a){var o=document.createElement("div");o.id="wdhDragger",o.classList.add("ui-resizable-e"),o.classList.add("ui-resizable-handle");var i=document.createElement("div");i.id="hgtDragger",i.classList.add("ui-resizable-s"),i.classList.add("ui-resizable-handle"),s.appendChild(o),s.appendChild(i);var r=s.offsetLeft,l=s.offsetTop,c=o.offsetLeft+o.clientWidth,d=i.offsetTop+i.clientHeight,u=!1,f=!1;document.addEventListener("mousemove",function(e){if(e.stopPropagation(),1===e.buttons){if(!0===u){var t=e.clientX-r;o.style.left=s.style.width=t<=c?t+"px":c+"px"}if(!0===f){var n=e.clientY-l;i.style.top=s.style.height=n<=d?n+"px":d+"px"}}0===e.buttons&&(!0!==u&&!0!==f||(u=f=!1,a("Document Resized - "+s.style.width+" x "+s.style.height)))}),o.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&(u=!0)}),i.addEventListener("mousedown",function(e){e.stopPropagation(),!0===n.isResizable&&(f=!0)})},n.fetchData=function(e,t){var n=this;n.xhr=new XMLHttpRequest,n.xhr.open("GET",e,!0),n.xhr.send(),n.xhr.onreadystatechange=function(){n.xhr.readyState===XMLHttpRequest.DONE&&t(n.xhr.responseText)}},n.drawRect=function(e,t){var o={X:0,Y:0,active:!1},i=document.getElementById("drawAreaSelection"),r=parseFloat(e.offsetLeft)-3,l=parseFloat(e.offsetTop)-3;e.addEventListener("mousedown",function(e){e.stopPropagation(),o.X=parseFloat(e.offsetX)+r,o.Y=parseFloat(e.offsetY)+l,o.active=!0,i.style.top=o.Y+"px",i.style.left=o.X+"px",i.style.display="block"}),e.addEventListener("mousemove",function(e){if(!0===o.active&&1===e.buttons){var t=parseFloat(e.offsetX)+r,n=parseFloat(e.offsetY)+l,s=c(o.X,t),a=c(o.Y,n);o.X>t&&(i.style.left=t+"px"),o.Y>n&&(i.style.top=n+"px"),i.style.width=s+"px",i.style.height=a+"px"}}),document.addEventListener("mouseup",function(e){!0===o.active&&(i.style.width=i.style.height="0px",i.style.top=i.style.left="0px",o.X=o.Y=0,i.style.display="none",o.active=!1,t("Area Selected"))});var c=function(e,t){return t<e?e-t:t-e}},{windowResizer:function(e,t){n.windowResizer(e,t)},windowSelector:function(e,t){n.drawRect(e,t)},fetchData:function(e,t){fetchData(e,t)}}}(),utilityService=function(){var s=this;s.domList=[];var a=function(e){setTimeout(function(){e.innerHTML=""},2e3)};return s.registerDOM=function(e,t){s.domList.push({dom:e,type:t})},{showStatus:function(e){var n;n=e,s.domList.forEach(function(e,t){e.dom.innerHTML=n,a(e.dom)})},registerDOM:function(e,t){s.registerDOM(e,t)},show:function(e){var t;(t=e).classList.remove("hide"),t.classList.add("show")},hide:function(e){var t;(t=e).classList.remove("show"),t.classList.add("hide")}}};!function(n,e){"use strict";var s,a,o,i=.85,t=utilityService();function r(e){t.showStatus(e)}o=setInterval(function(){var e,t;s=document.getElementById("mainArea"),(a=document.getElementById("drawArea"))&&(clearInterval(o),e=window.screen.availWidth,t=window.screen.availHeight,a.style.width=s.style.width=e*i+"px",a.style.height=s.style.height=t*i+"px",n.windowResizer(a,r),n.windowSelector(a,r))},1e3)}(evtService);var drawShapes=function(s,e){"use strict";var r,l={},a=0,c=utilityService();s=s;return l.selectedObj=null,l.currentShape=null,l.drawShape=function(e,t){var n=document.createElement("div");n.id=t+"-shape-"+a,n.classList.add(t),n.classList.add("shape"),a++,e.appendChild(n),l.currentShape=document.getElementById(n.id),s.fetchData("./data/shapes/"+t+".json",l.setStyle),l.selectable(l.currentShape),c.showStatus("Rectangle Created")},l.setStyle=function(e){if(e&&l.currentShape){var t=JSON.parse(e);if(console.log(l.currentShape),console.log(l.currentShape.style),t.styles)for(var n in t.styles){console.log("am i here3",n);var s=t.styles[n];console.log("am i here4",s),l.currentShape.style[n]=s}}},l.unsetObj=function(){l.selectedObj=null,c.hide(r)},l.selectable=function(i){r||(r=document.getElementById("eleSelector")),i.addEventListener("mousedown",function(e){e.stopPropagation()}),i.addEventListener("mouseup",function(e){e.stopPropagation()}),i.addEventListener("click",function(e){e.stopPropagation();var t=i.getBoundingClientRect(),n=parseFloat(t.width)+20+"px",s=parseFloat(t.height)+20+"px",a=parseFloat(t.x)-12+"px",o=parseFloat(t.y)-12+"px";r.style.width=n,r.style.height=s,r.style.left=a,r.style.top=o,l.selectedObj=i,c.show(r),c.showStatus("Object Selected")})},{drawShape:function(e,t){l.drawShape(e,t)},selectedObj:function(){return l.selectedObj},unsetObj:function(){l.unsetObj()},setStyle:function(e){l.setStyle(e)}}}(evtService);!function(e,t){"use strict";var i,n,r=!1,l=drawShapes,s=utilityService();function c(){r=!1,document.removeEventListener("mousemove",a),s.showStatus("Object Moved"),l.unsetObj()}function a(e){if(0===e.buttons&&c(),!0===r){i.offsetLeft,i.offsetTop;var t=e.movementX,n=e.movementY;i.style.left=parseFloat(i.style.left)+t+"px",i.style.top=parseFloat(i.style.top)+n+"px";var s=l.selectedObj();if(s){var a=s.style.left?s.style.left:s.offsetLeft,o=s.style.top?s.style.top:s.offsetTop;s.style.left=parseFloat(a)+t+"px",s.style.top=parseFloat(o)+n+"px"}}}n=setInterval(function(){(i=document.getElementById("eleSelector"))&&(clearInterval(n),i.addEventListener("mousedown",function(e){r=!0,document.addEventListener("mousemove",a)}),i.addEventListener("mouseup",function(e){c()}))},1e3)}(),function(e){"use strict";var t,n,s,a,o=drawShapes;a=setInterval(function(){document.getElementById("drawArea")&&(t=document.getElementById("shapesWrapper"),clearInterval(a),n=document.querySelector('div[data-shape ="rect"]'),s=document.querySelector('div[data-shape ="circle"]'),n&&n.addEventListener("click",function(){o.drawShape(t,"rect")}),s&&s.addEventListener("click",function(){o.drawShape(t,"circle")}))},1e3)}(),function(e){"use strict";var t,n,s=!1,a=utilityService();n=setInterval(function(){document.getElementById("wre-statusbar")&&!1===s&&(s=!0,t=document.querySelector(".status-text"),clearInterval(n),a.registerDOM(t,"status"))},200)}(),function(){"use strict"}();